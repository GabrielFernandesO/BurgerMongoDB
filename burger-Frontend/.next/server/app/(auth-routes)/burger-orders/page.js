(()=>{var e={};e.id=22,e.ids=[22],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},32078:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),t(27985),t(47594),t(54982),t(35866),t(79102);var s=t(23191),a=t(88716),o=t(37922),n=t.n(o),i=t(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l=["",{children:["(auth-routes)",{children:["burger-orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,27985)),"C:\\Users\\juhab\\OneDrive\\Documentos\\Projects\\Burger-Frontend\\burger\\src\\app\\(auth-routes)\\burger-orders\\page.js"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,47594)),"C:\\Users\\juhab\\OneDrive\\Documentos\\Projects\\Burger-Frontend\\burger\\src\\app\\(auth-routes)\\burger-orders\\layout.js"],loading:[()=>Promise.resolve().then(t.bind(t,54982)),"C:\\Users\\juhab\\OneDrive\\Documentos\\Projects\\Burger-Frontend\\burger\\src\\app\\(auth-routes)\\burger-orders\\loading.js"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,79102)),"C:\\Users\\juhab\\OneDrive\\Documentos\\Projects\\Burger-Frontend\\burger\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\juhab\\OneDrive\\Documentos\\Projects\\Burger-Frontend\\burger\\src\\app\\(auth-routes)\\burger-orders\\page.js"],u="/(auth-routes)/burger-orders/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth-routes)/burger-orders/page",pathname:"/burger-orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},25435:(e,r,t)=>{Promise.resolve().then(t.bind(t,37655))},37655:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(10326),a=t(17577),o=t(77109),n=t(90622),i=t(29394);let d=({isOpen:e,onClose:r,propsOrder:t,onOrderUpdate:o})=>{let[d,l]=(0,a.useState)([]),[c,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[h,b]=(0,a.useState)(""),[x,g]=(0,a.useState)(""),j=(e,r)=>d.filter(t=>t[e]!==r);async function f(e){e.preventDefault();let s={id:t.id,name:t.name,bread:c||t.bread,meat:m||t.meat,salad:h||t.salad,sauce:x||t.sauce};try{let e=await fetch("http://burgermonapp.somee.com/api/Order/order",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!e.ok)throw Error("Network response was not ok");let t=await e.json();!0===t.flag&&(i.Am.success("Pedido atualizado"),o(),r()),console.log("Deu bom",t)}catch(e){console.log("erro dado",e)}}return((0,a.useEffect)(()=>{(async function(){try{let e=await fetch("http://burgermonapp.somee.com/api/OptionsBurger");if(!e.ok)throw Error("Network response was not ok");let r=await e.json();l(r.data),u(t.bread||""),p(t.meat||""),b(t.salad||""),g(t.sauce||"")}catch(e){console.log("erro dado",e)}})()},[t]),e)?s.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-500 bg-opacity-75",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Editar Pedido"}),s.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-700 text-lg",children:s.jsx(n.GjQ,{})})]}),s.jsx("div",{className:"p-4",children:(0,s.jsxs)("form",{className:"space-y-4",onSubmit:f,children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"select1",className:"block text-sm font-medium text-gray-700",children:"P\xe3o"}),(0,s.jsxs)("select",{id:"select1",value:c,onChange:e=>u(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 hover:border-amber-400 rounded-md shadow-sm focus:outline-none focus:ring-amber-400 focus:border-amber-400 sm:text-sm",children:[s.jsx("option",{value:t.bread,children:t.bread}),j("bread",t.bread).map(e=>s.jsx("option",{value:e.bread,children:e.bread},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"select2",className:"block text-sm font-medium text-gray-700",children:"Carne"}),(0,s.jsxs)("select",{id:"select2",value:m,onChange:e=>p(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 hover:border-amber-400 rounded-md shadow-sm focus:outline-none focus:ring-amber-400 focus:border-amber-400 sm:text-sm",children:[s.jsx("option",{value:t.meat,children:t.meat}),j("meat",t.meat).map(e=>s.jsx("option",{value:e.meat,children:e.meat},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"select3",className:"block text-sm font-medium text-gray-700",children:"Salada"}),(0,s.jsxs)("select",{id:"select3",value:h,onChange:e=>b(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 hover:border-amber-400 rounded-md shadow-sm focus:outline-none focus:ring-amber-400 focus:border-amber-400 sm:text-sm",children:[s.jsx("option",{value:t.salad,children:t.salad}),j("salad",t.salad).map(e=>s.jsx("option",{value:e.salad,children:e.salad},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"select4",className:"block text-sm font-medium text-gray-700",children:"Molho"}),(0,s.jsxs)("select",{id:"select4",value:x,onChange:e=>g(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 hover:border-amber-400 rounded-md shadow-sm focus:outline-none focus:ring-amber-400 focus:border-amber-400 sm:text-sm",children:[s.jsx("option",{value:t.sauce,children:t.sauce}),j("sauce",t.sauce).map(e=>s.jsx("option",{value:e.sauce,children:e.sauce},e.id))]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"submit",className:"bg-zinc-800 hover:bg-white hover:text-black border-2 border-transparent hover:border-black transition duration-500 text-amber-400 font-bold py-2 px-4 rounded",children:"Atualizar pedido"})})]})})]})}):null},l=({isOpen:e,onClose:r,propsOrder:t,onOrderUpdate:a})=>{async function o(e){try{let t=await fetch(`http://burgermonapp.somee.com/api/Order/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),s=await t.json();!0===s.flag?(i.Am.success("Pedido cancelado"),a(),r()):i.Am.error("Erro ao cancelar pedido")}catch(e){console.log("Erro ao cancelar pedido:",e),i.Am.error("Erro ao cancelar pedido")}}return e?s.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-500 bg-opacity-75",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Deseja cancelar seu pedido?"}),s.jsx("button",{onClick:r,className:"text-gray-500 hover:text-red-700 text-lg",children:s.jsx(n.GjQ,{})})]}),(0,s.jsxs)("div",{className:"flex justify-center space-x-10 mt-4 mb-4",children:[s.jsx("button",{onClick:()=>o(t.id),className:"bg-green-600 hover:bg-green-500 hover:text border-2 border-transparent hover:border-black transition duration-500 text-black font-bold py-1 px-6 rounded",children:"Sim"}),s.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 hover:text-black border-2 border-transparent hover:border-black transition duration-500 text-black font-bold py-1 px-6 rounded",children:"N\xe3o"})]})]})}):null};function c(){let{data:e,status:r}=(0,o.useSession)(),[t,n]=(0,a.useState)([]),[i,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),b=(0,a.useCallback)(async()=>{if("authenticated"===r&&e?.user?.name)try{let r=await fetch(`http://burgermonapp.somee.com/api/Order/${e.user.name}`);if(!r.ok)throw Error("Network response was not ok");let t=await r.json();n(t.data),console.log("Pedidos carregados com sucesso",t)}catch(e){console.log("Erro ao carregar pedidos",e)}},[r,e]),x=e=>{h(e),c(!0)},g=e=>{h(e),m(!0)},j=()=>{b(),c(!1),m(!1)};return"loading"===r?s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 border-8 border-t-8 border-amber-400 border-opacity-1 border-t-white rounded-full animate-spin"})}):s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex justify-center mt-[30px]",children:[(0,s.jsxs)("table",{className:"min-w-[1300px] ",children:[s.jsx("thead",{className:"border-b-2 border-black mb-4",children:(0,s.jsxs)("tr",{className:"text-left",children:[s.jsx("th",{className:"p-2 w-1/6",children:"P\xe3o:"}),s.jsx("th",{className:"p-2 w-1/6",children:"Carne:"}),s.jsx("th",{className:"p-2 w-1/6",children:"Salada:"}),s.jsx("th",{className:"p-2 w-1/6",children:"Molho:"}),s.jsx("th",{className:"p-2 w-1/6",children:"Status:"}),s.jsx("th",{className:"p-2 w-1/6",children:"A\xe7\xf5es:"})]})}),s.jsx("tbody",{className:"space-y-2",children:t.length>0?t.map(e=>(0,s.jsxs)("tr",{className:"text-left hover:bg-gray-100 mt-6",children:[s.jsx("td",{className:"p-2 w-1/6",children:e.bread}),s.jsx("td",{className:"p-2 w-1/6",children:e.meat}),s.jsx("td",{className:"p-2 w-1/6",children:e.salad}),s.jsx("td",{className:"p-2 w-1/6",children:e.sauce}),s.jsx("td",{className:"p-2 w-1/6",children:e.status}),(0,s.jsxs)("td",{className:"p-2 w-1/6",children:[s.jsx("span",{className:"bg-zinc-800 hover:bg-zinc-950 hover:text-white cursor-pointer text-amber-400 py-1 rounded-lg px-2",onClick:()=>x(e),children:"Editar pedido"})," ",s.jsx("span",{className:"bg-red-700 hover:bg-red-600 cursor-pointer rounded-lg text-white p-1",onClick:()=>g(e),children:"Cancelar"})]})]},e.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-2 text-center",children:"Nenhum pedido encontrado"})})})]}),s.jsx(d,{isOpen:i,onClose:()=>c(!1),propsOrder:p,onOrderUpdate:j}),s.jsx(l,{isOpen:u,onClose:()=>m(!1),propsOrder:p,onOrderUpdate:j})]})})}},47594:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>i});var s=t(19510),a=t(75571),o=t(4879),n=t(58585);let i={title:"Burger - Pedidos"};async function d({children:e}){let r=await (0,a.getServerSession)(o.handler);return r?r.user.isAdmin&&(0,n.redirect)("/admin/adminOrders"):(0,n.redirect)("/burger-login"),s.jsx(s.Fragment,{children:e})}},54982:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(19510);function a(){return s.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:s.jsx("div",{className:"w-16 h-16 border-8 border-t-8 border-amber-400 border-opacity-1 border-t-white rounded-full animate-spin"})})}t(71159)},27985:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>o,default:()=>i});var s=t(68570);let a=(0,s.createProxy)(String.raw`C:\Users\juhab\OneDrive\Documentos\Projects\Burger-Frontend\burger\src\app\(auth-routes)\burger-orders\page.js`),{__esModule:o,$$typeof:n}=a;a.default;let i=(0,s.createProxy)(String.raw`C:\Users\juhab\OneDrive\Documentos\Projects\Burger-Frontend\burger\src\app\(auth-routes)\burger-orders\page.js#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,781,954,621,622,686],()=>t(32078));module.exports=s})();
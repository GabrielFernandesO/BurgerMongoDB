(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{4612:function(e,r,t){Promise.resolve().then(t.bind(t,8428))},8428:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var a=t(7437),s=t(2265),o=t(998),n=t(1942),l=t(3580),c=e=>{let{isOpen:r,onClose:t,propsOrder:o,onOrderUpdate:c}=e,[i,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(""),[b,h]=(0,s.useState)(""),[p,x]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),g=(e,r)=>i.filter(t=>t[e]!==r);async function v(e){e.preventDefault();let r={id:o.id,name:o.name,bread:u||o.bread,meat:b||o.meat,salad:p||o.salad,sauce:f||o.sauce};try{let e=await fetch("http://burgermonapp.somee.com/api/Order/order",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok)throw Error("Network response was not ok");let a=await e.json();!0===a.flag&&(l.Am.success("Pedido atualizado"),c(),t()),console.log("Deu bom",a)}catch(e){console.log("erro dado",e)}}return((0,s.useEffect)(()=>{(async function(){try{let e=await fetch("http://burgermonapp.somee.com/api/OptionsBurger");if(!e.ok)throw Error("Network response was not ok");let r=await e.json();d(r.data),m(o.bread||""),h(o.meat||""),x(o.salad||""),j(o.sauce||"")}catch(e){console.log("erro dado",e)}})()},[o]),r)?(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-500 bg-opacity-75",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Editar Pedido"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-red-700 text-lg",children:(0,a.jsx)(n.GjQ,{})})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("form",{className:"space-y-4",onSubmit:v,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"select1",className:"block text-sm font-medium text-gray-700",children:"P\xe3o"}),(0,a.jsxs)("select",{id:"select1",value:u,onChange:e=>m(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 hover:border-amber-400 rounded-md shadow-sm focus:outline-none focus:ring-amber-400 focus:border-amber-400 sm:text-sm",children:[(0,a.jsx)("option",{value:o.bread,children:o.bread}),g("bread",o.bread).map(e=>(0,a.jsx)("option",{value:e.bread,children:e.bread},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"select2",className:"block text-sm font-medium text-gray-700",children:"Carne"}),(0,a.jsxs)("select",{id:"select2",value:b,onChange:e=>h(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 hover:border-amber-400 rounded-md shadow-sm focus:outline-none focus:ring-amber-400 focus:border-amber-400 sm:text-sm",children:[(0,a.jsx)("option",{value:o.meat,children:o.meat}),g("meat",o.meat).map(e=>(0,a.jsx)("option",{value:e.meat,children:e.meat},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"select3",className:"block text-sm font-medium text-gray-700",children:"Salada"}),(0,a.jsxs)("select",{id:"select3",value:p,onChange:e=>x(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 hover:border-amber-400 rounded-md shadow-sm focus:outline-none focus:ring-amber-400 focus:border-amber-400 sm:text-sm",children:[(0,a.jsx)("option",{value:o.salad,children:o.salad}),g("salad",o.salad).map(e=>(0,a.jsx)("option",{value:e.salad,children:e.salad},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"select4",className:"block text-sm font-medium text-gray-700",children:"Molho"}),(0,a.jsxs)("select",{id:"select4",value:f,onChange:e=>j(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 hover:border-amber-400 rounded-md shadow-sm focus:outline-none focus:ring-amber-400 focus:border-amber-400 sm:text-sm",children:[(0,a.jsx)("option",{value:o.sauce,children:o.sauce}),g("sauce",o.sauce).map(e=>(0,a.jsx)("option",{value:e.sauce,children:e.sauce},e.id))]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"submit",className:"bg-zinc-800 hover:bg-white hover:text-black border-2 border-transparent hover:border-black transition duration-500 text-amber-400 font-bold py-2 px-4 rounded",children:"Atualizar pedido"})})]})})]})}):null},i=e=>{let{isOpen:r,onClose:t,propsOrder:s,onOrderUpdate:o}=e;async function c(e){try{let r=await fetch("http://burgermonapp.somee.com/api/Order/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}),a=await r.json();!0===a.flag?(l.Am.success("Pedido cancelado"),o(),t()):l.Am.error("Erro ao cancelar pedido")}catch(e){console.log("Erro ao cancelar pedido:",e),l.Am.error("Erro ao cancelar pedido")}}return r?(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-500 bg-opacity-75",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Deseja cancelar seu pedido?"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-red-700 text-lg",children:(0,a.jsx)(n.GjQ,{})})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-10 mt-4 mb-4",children:[(0,a.jsx)("button",{onClick:()=>c(s.id),className:"bg-green-600 hover:bg-green-500 hover:text border-2 border-transparent hover:border-black transition duration-500 text-black font-bold py-1 px-6 rounded",children:"Sim"}),(0,a.jsx)("button",{onClick:t,className:"bg-red-600 hover:bg-red-500 hover:text-black border-2 border-transparent hover:border-black transition duration-500 text-black font-bold py-1 px-6 rounded",children:"N\xe3o"})]})]})}):null};function d(){let{data:e,status:r}=(0,o.useSession)(),[t,n]=(0,s.useState)([]),[l,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[b,h]=(0,s.useState)(null),p=(0,s.useCallback)(async()=>{var t;if("authenticated"===r&&(null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.name))try{let r=await fetch("http://burgermonapp.somee.com/api/Order/".concat(e.user.name));if(!r.ok)throw Error("Network response was not ok");let t=await r.json();n(t.data),console.log("Pedidos carregados com sucesso",t)}catch(e){console.log("Erro ao carregar pedidos",e)}},[r,e]);(0,s.useEffect)(()=>{"authenticated"===r&&p()},[r,e,p]);let x=e=>{h(e),d(!0)},f=e=>{h(e),m(!0)},j=()=>{p(),d(!1),m(!1)};return"loading"===r?(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-16 h-16 border-8 border-t-8 border-amber-400 border-opacity-1 border-t-white rounded-full animate-spin"})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex justify-center mt-[30px]",children:[(0,a.jsxs)("table",{className:"min-w-[1300px] ",children:[(0,a.jsx)("thead",{className:"border-b-2 border-black mb-4",children:(0,a.jsxs)("tr",{className:"text-left",children:[(0,a.jsx)("th",{className:"p-2 w-1/6",children:"P\xe3o:"}),(0,a.jsx)("th",{className:"p-2 w-1/6",children:"Carne:"}),(0,a.jsx)("th",{className:"p-2 w-1/6",children:"Salada:"}),(0,a.jsx)("th",{className:"p-2 w-1/6",children:"Molho:"}),(0,a.jsx)("th",{className:"p-2 w-1/6",children:"Status:"}),(0,a.jsx)("th",{className:"p-2 w-1/6",children:"A\xe7\xf5es:"})]})}),(0,a.jsx)("tbody",{className:"space-y-2",children:t.length>0?t.map(e=>(0,a.jsxs)("tr",{className:"text-left hover:bg-gray-100 mt-6",children:[(0,a.jsx)("td",{className:"p-2 w-1/6",children:e.bread}),(0,a.jsx)("td",{className:"p-2 w-1/6",children:e.meat}),(0,a.jsx)("td",{className:"p-2 w-1/6",children:e.salad}),(0,a.jsx)("td",{className:"p-2 w-1/6",children:e.sauce}),(0,a.jsx)("td",{className:"p-2 w-1/6",children:e.status}),(0,a.jsxs)("td",{className:"p-2 w-1/6",children:[(0,a.jsx)("span",{className:"bg-zinc-800 hover:bg-zinc-950 hover:text-white cursor-pointer text-amber-400 py-1 rounded-lg px-2",onClick:()=>x(e),children:"Editar pedido"})," ",(0,a.jsx)("span",{className:"bg-red-700 hover:bg-red-600 cursor-pointer rounded-lg text-white p-1",onClick:()=>f(e),children:"Cancelar"})]})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"6",className:"p-2 text-center",children:"Nenhum pedido encontrado"})})})]}),(0,a.jsx)(c,{isOpen:l,onClose:()=>d(!1),propsOrder:b,onOrderUpdate:j}),(0,a.jsx)(i,{isOpen:u,onClose:()=>m(!1),propsOrder:b,onOrderUpdate:j})]})})}},1810:function(e,r,t){"use strict";t.d(r,{w_:function(){return d}});var a=t(2265),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=a.createContext&&a.createContext(s),n=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach(function(r){var a,s;a=r,s=t[r],(a=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,r||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(a))in e?Object.defineProperty(e,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[a]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function d(e){return r=>a.createElement(u,l({attr:i({},e.attr)},r),function e(r){return r&&r.map((r,t)=>a.createElement(r.tag,i({key:t},r.attr),e(r.child)))}(e.child))}function u(e){var r=r=>{var t,{attr:s,size:o,title:c}=e,d=function(e,r){if(null==e)return{};var t,a,s=function(e,r){if(null==e)return{};var t={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;t[a]=e[a]}return t}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(e,n),u=o||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),a.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,d,{className:t,style:i(i({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&a.createElement("title",null,c),e.children)};return void 0!==o?a.createElement(o.Consumer,null,e=>r(e)):r(s)}}},function(e){e.O(0,[699,998,580,971,23,744],function(){return e(e.s=4612)}),_N_E=e.O()}]);